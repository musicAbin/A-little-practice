<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			#list ul{display: none;}
		</style>
	</head>
	<body>
		<ul id="list">
			<li>
				<h2 class="title">+第一级</h2>
				<ul>
					<li>
						<h2>+第二级</h2>
						<ul>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>+第二级</h2>
						<ul>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
				</ul>
			</li>
			
			<li>
				<h2 class="title">+第一级</h2>
				<ul>
					<li>
						<h2>+第二级</h2>
						<ul>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
				</ul>
			</li>
			<li>
				<h2 class="title">+第一级</h2>
				<ul>
					<li>
						<h2>+第二级</h2>
						<ul>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
				</ul>
			</li>
			<li>
				<h2 class="title">+第一级</h2>
				<ul>
					<li>
						<h2>+第二级</h2>
						<ul>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>+第三级</h2>
								<ul>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
									<li>
										<h2>第四级</h2>
									</li>
								</ul>
							</li>
							<li>
								<h2>第三级</h2>
							</li>
						</ul>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
					<li>
						<h2>第二级</h2>
					</li>
				</ul>
			</li>
		</ul>
	</body>
	
		<script>
			//获取元素
			var oList = document.getElementById('list');
			var aH2 = oList.getElementsByTagName('h2');
			var h2s = oList.getElementsByClassName('title'); 
			
			for(var i=0,len=aH2.length;i<len;i++){
				aH2[i].onmousedown = function (){
					var next = this.nextElementSibling;
					
					//第一次点击的时候，如果这个元素存在，那么展开
					if(next && next.style.display == 'none'){
						next.style.display = 'block';
					//再次点击的时候，收缩
					}else if(next){
						next.style.display = 'none';
					}
					this.onOff = !this.onOff;
				};
			}
			
			for(var i=0;i<h2s.length;i++){
				h2s[i].index = i;
				h2s[i].onmousedown = function(){
					for(var j=0;j<h2s.length;j++){
						if(this.index != j){
							h2s[j].nextElementSibling.style.display = 'none';
						}
					}
					
					var h2 = this.parentNode.getElementsByTagName('h2');
					for(var k=1;k<h2.length;k++){
						if(h2[k].nextElementSibling){
							h2[k].nextElementSibling.style.display = 'none';
						}
					}
					
					if(this.nextElementSibling.style.display == 'block'){
						this.nextElementSibling.style.display = 'none';
					}else{
						this.nextElementSibling.style.display = 'block';
					}
				}
			}
			
		</script>	
</html>





